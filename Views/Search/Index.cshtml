
@{
    ViewBag.Title = "Index";
}

<h2>Advanced Search</h2>


@using (Html.BeginForm("IndexOne"))
{

    @Html.AntiForgeryToken()

    <div class="form-horizontal" id="SearchForm">

        <hr />

        <div class="form-group">
            @Html.Label("select", htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.DropDownList("selects", ViewBag.listDropDown as List<SelectListItem>, "select", htmlAttributes: new { @class = "form-control" })
            </div>
        </div>

        <div class="form-group">

            @Html.Label("Order by", htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.DropDownList("order", ViewBag.order as List<SelectListItem>, "select", htmlAttributes: new { @class = "form-control" })
            </div>
        </div>

        <div class="form-group">

            @Html.Label("Start From", htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.TextBox("Start")
            </div>
        </div>

        <div class="form-group">
            @Html.Label("Number of records to display", htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.TextBox("count")

            </div>


        </div>


        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <input type="submit" value="Search" id="btnSearch" class="btn btn-default" />
            </div>
        </div>

    </div>
}

<p>
    Total Number of Records Found = @ViewBag.Counts
</p>


@if (ViewBag.Lists != null)
{
    
<table class="table">
    <tr>
        <th>
            Full Name
        </th>

        <th>
            @ViewBag.SelectedField
        </th>
    </tr>
    
    @foreach (var it in ViewBag.Lists)
    {
        
        

<tr>
    <td>
        @it.FirstName
        @it.LastName
    </td>
    @if (ViewBag.SelectedField == "Email")
    {
        <td>
            @it.Email
        </td>
    }
    @if (ViewBag.SelectedField == "Phone")
    {
        <td>
            @it.PhoneNumber
        </td>
    }
    @if (ViewBag.SelectedField == "State")
    {
        <td>
            @it.State.StateName
        </td>
    }
    @if (ViewBag.SelectedField == "Country")
    {
        <td>
            @it.Country.CountryName
        </td>
    }
    @if (ViewBag.SelectedField == "City")
    {
        <td>
            @it.City.CityName
        </td>
    }




</tr>
        



    }


</table>
}